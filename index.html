<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חדר הבריחה הדיגיטלי של עיינים בנים! עזרא גבש!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            direction: rtl;
            text-align: center;
            overflow-x: hidden;
        }

        .screen-freeze {
            pointer-events: none;
            opacity: 0.5;
        }

        .welcome-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #87CEEB 0%, #E6F3FF 50%, #FFFFFF 100%);
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .israeli-flag {
            position: absolute;
            width: 80px;
            height: 60px;
            background: linear-gradient(to bottom, #0038b8 0%, #0038b8 20%, #ffffff 20%, #ffffff 40%, #0038b8 40%, #0038b8 60%, #ffffff 60%, #ffffff 80%, #0038b8 80%, #0038b8 100%);
            border: 2px solid #0038b8;
            animation: wave 3s ease-in-out infinite;
        }

        .flag-1 { top: 50px; left: 50px; }
        .flag-2 { top: 50px; right: 50px; }
        .flag-3 { bottom: 50px; left: 50px; }
        .flag-4 { bottom: 50px; right: 50px; }

        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        .main-title {
            font-size: 4rem;
            color: #0038b8;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,56,184,0.3); }
            to { text-shadow: 2px 2px 20px rgba(0,56,184,0.6); }
        }

        .subtitle {
            font-size: 1.3rem;
            color: #333;
            max-width: 800px;
            line-height: 1.6;
            margin-bottom: 40px;
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .start-button {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .game-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            color: white;
            display: none;
        }

        .level-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #fff;
        }

        .level-content {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 20px;
            margin: 20px auto;
            max-width: 800px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .hint-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .hint-button:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        .timer-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            color: white;
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            z-index: 2000;
        }

        .hint-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            color: black;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            max-width: 80%;
            text-align: center;
        }

        .article-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            color: black;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            direction: rtl;
        }

        .code-input {
            width: 200px;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #fff;
            border-radius: 10px;
            text-align: center;
            margin: 20px;
        }

        .submit-button {
            background: #4ecdc4;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .submit-button:hover {
            background: #45b7aa;
            transform: scale(1.05);
        }

        .message {
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
        }

        .success {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4caf50;
        }

        .error {
            background: rgba(244, 67, 54, 0.3);
            border: 2px solid #f44336;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .emoji-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .emoji-question {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .emoji-input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            text-align: center;
        }

        .final-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #333;
            position: relative;
            overflow: hidden;
        }

        .celebration {
            font-size: 3rem;
            animation: celebration 2s ease-in-out infinite;
            z-index: 10;
        }

        @keyframes celebration {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff6b6b;
            animation: confetti-fall 3s linear infinite;
        }

        .confetti:nth-child(2n) { background: #4ecdc4; }
        .confetti:nth-child(3n) { background: #ffe66d; }
        .confetti:nth-child(4n) { background: #ff6b6b; }
        .confetti:nth-child(5n) { background: #a8e6cf; }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .morse-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            color: black;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            max-width: 90%;
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }

        .close-popup {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="israeli-flag flag-1"></div>
        <div class="israeli-flag flag-2"></div>
        <div class="israeli-flag flag-3"></div>
        <div class="israeli-flag flag-4"></div>

        <h1 class="main-title">ברוכים הבאים לחדר הבריחה הדיגיטלי של עיינים בנים!! עזרא גב"ש</h1>
        
        <p class="subtitle">
            כדי לנצח את חברי השבט שלכם, עליכם יהיה להשיג חמישה קודים שונים ולהיות הראשונים שמכניסים אותם. 
            בכל חידה תקבלו כמות רמזים מסוימת ובעזרתם יהיה עליכם להשיג קוד. 
            אחרי שתמצאו את הקוד יהיה עליכם להכניס אותו לתיבה שכתוב עליה "הכניסו את הקוד", בהצלחה!
        </p>
        
        <button class="start-button" onclick="startGame()">
            יאללה בוא נצא לדרך 🤩
        </button>
    </div>

    <!-- Level 1 -->
       <div id="level1" class="game-screen">Add commentMore actions
        <h2 class="level-title">חלק ראשון</h2>
        <div class="level-content">
            <h3>שלום! ברוכים הבאים למשימה הראשונה</h3>
            <p>במשימה הזאת יהיה עליכם להשיג קוד בעל שלושה ספרות</p>
            <br>
            <p><strong>הרמז הראשון שלכם הוא:</strong></p>
            <a href="https://youtu.be/ixJEHOM2JaM" target="_blank" style="color: #4ecdc4; font-size: 1.2rem;">https://youtu.be/ixJEHOM2JaM</a>
            <br><br>
            <button class="hint-button" onclick="showHint(1, 'יש מספרים על המסך שימו לב איפה הם', 5)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
            <br>
            <input type="text" id="code1" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(1)">שלח קוד</button>
            <div id="message1" class="message"></div>
        </div>
    </div>

    <!-- Level 2 -->
    <div id="level2" class="game-screen">
        <h2 class="level-title">חלק שני</h2>
        <div class="level-content">
            <p style="font-size: 0.9rem;">ואו כל הכבוד! הצלחתם לעבור את השלב הראשון!!</p>
            <br>
            <p>עכשיו הגעתם לחלק השני, פה החלק יהיה קצת יותר קליל, כל מה שעליכם לעשות זה להיכנס לכתבה ולחבר את כל המספרים הכתובים שם:</p>
            <p>ולהכניס קוד בעל שלושה ספרות אל התיבה</p>
            <button class="hint-button" onclick="showArticle()" style="background: #4ecdc4;">לחץ לקריאת הכתבה</button>
            <p>עליכם יהיה לקחת את המספר שיצא לכם (אם יצא נגיד 31.1 זה 311) וזה יהיה הקוד לשלב הזה.</p>
            <br>
            <button class="hint-button" onclick="showHint(3, 'גם אחד זה מספר, ולא רק 1.. 🙃', 20)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
            <br><br>
            <input type="text" id="code2" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(2)">שלח קוד</button>
            <div id="message2" class="message"></div>
        </div>
    </div>

    <!-- Level 3 -->
    <div id="level3" class="game-screen">
        <h2 class="level-title">חלק שלישי</h2>
        <div class="level-content">
            <p>בחידה זו תקבלו אימוגים, עליכם להבין במה מדובר ולהקליד את זה, אם הצלחתם להקליד נכון תקבלו מספר שיופיע במסך.</p>
            <div class="emoji-grid">
                <div class="emoji-item">
                    <div class="emoji-question">1️⃣❓</div>
                    <input type="text" class="emoji-input" id="emoji1" placeholder="תשובה">
                    <button class="hint-button" onclick="showHint(4, 'קשור לחג הפסח', 5)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
                    <div id="emoji-result1"></div>
                </div>
                
                <div class="emoji-item">
                    <div class="emoji-question">🏠🔆</div>
                    <input type="text" class="emoji-input" id="emoji2" placeholder="תשובה">
                    <button class="hint-button" onclick="showHint(5, 'עיר', 5)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
                    <div id="emoji-result2"></div>
                </div>
                                <div class="emoji-item">
                    <div class="emoji-question">👦🏼👦🏻⚡️</div>
                    <input type="text" class="emoji-input" id="emoji4" placeholder="תשובה">
                    <button class="hint-button" onclick="showHint(7, 'עיר בארץ', 5)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
                    <div id="emoji-result4"></div>
                </div>
                <div class="emoji-item">
                    <div class="emoji-question">🌊🥛😢❌</div>
                    <input type="text" class="emoji-input" id="emoji5" placeholder="תשובה">
                    <button class="hint-button" onclick="showHint(8, 'פתגם מפורסם', 5)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
                    <div id="emoji-result5"></div>
                </div>
                
                <div class="emoji-item">
                    <div class="emoji-question">🌽🔥</div>
                    <input type="text" class="emoji-input" id="emoji3" placeholder="תשובה">
                    <button class="hint-button" onclick="showHint(1, 'ספר ילדים מוכר', 5)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
                    <div id="emoji-result3"></div>
                </div>
            </div>
            <br>
            <p>אספו את המספרים שקיבלתם לקוד אחד:</p>
            <input type="text" id="code3" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(3)">שלח קוד</button>
            <div id="message3" class="message"></div>
        </div>
    </div>

    <!-- Level 4 -->
    <div id="level4" class="game-screen">
        <h2 class="level-title">חלק רביעי</h2>
        <div class="level-content">
            <div style="font-size: 1.5rem; line-height: 2; direction: ltr; text-align: center;">
                <p>8+1 = 79</p>
                <p>6+5 = 111</p>
                <p>4+2 = 26</p>
                <p><strong>7+3 = ?</strong></p>
            </div>
            <br>
            <button class="hint-button" onclick="showHint(9, '8-1=7..', 10)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
            <br><br>
            <input type="text" id="code4" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(4)">שלח קוד</button>
            <div id="message4" class="message"></div>
        </div>
    </div>

    <!-- Level 5 -->
    <div id="level5" class="game-screen">
        <h2 class="level-title">חלק חמישי</h2>
        <div class="level-content">
            <div style="font-size: 1.3rem; line-height: 1.8; direction: ltr; text-align: center;">
                <p>🥕 + 🥕 + 🥕 = 18</p>
                <p>🥝 + 🥝 + 🥝 + 🥕 = 12</p>
                <p>🌽 × 🌽 = 81</p>
                <p>🍈 × 🍈 = 25</p>
                <p>🥦 + 🥦 + 🥦 = 21</p>
                <p>🥦 + 🍆 + 🍈 = 17</p>
                <p>🥑 + 🥑 + 🥑 = 27</p>
                <p>🍌 × 🍌 = 49</p>
                <p><strong>🍌 + 🥑 + 🍆 + 🥦 + 🍈 + 🌽 + 🥕 + 🥝 = ?</strong></p>
            </div>
            <br>
            <button class="hint-button" onclick="showHint(10, 'התשובה של הקוד זה הסכום', 10)">תן לי רמז, אבל זה יעלה 10 שניות של פריז</button>
            <br>
            <input type="text" id="code5" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(5)">שלח קוד</button>
            <div id="message5" class="message"></div>
        </div>
    </div>

    <!-- Final Screen -->
    <div id="final-screen" class="final-screen">
        <div class="celebration">
            <h1>כל הכבוד! ניצחתם ופתרתם את החידה!!! אלופים! 🎊🎉</h1>
        </div>
    </div>

    <!-- Timer Overlay -->
    <div class="timer-overlay" id="timer-overlay">
        <div>
            <div>המסך קפוא!</div>
            <div id="timer-countdown" style="font-size: 4rem; margin-top: 20px;">10</div>
        </div>
    </div>

    <!-- Hint Popup -->
    <div class="popup-overlay" id="hint-overlay" onclick="closeHintPopup()"></div>
    <div class="hint-popup" id="hint-popup">
        <h3>רמז:</h3>
        <p id="hint-text"></p>
        <button class="close-popup" onclick="closeHintPopup()">סגור</button>
    </div>

    <!-- Article Popup -->
    <div class="popup-overlay" id="article-overlay" onclick="closeArticlePopup()"></div>
    <div class="article-popup" id="article-popup">
        <h3>התקדמות משמעותית במו"מ בין הפועל ת"א לריימס על דיארה | נחשף ב-ynet</h3>
        <p><strong>האדומים מתקרבים למציאת נוסחה לרכישת שחקן הכנף, שהוא המטרה המרכזית שלהם לקיץ. מאיימבו הפעיל לחץ, הקבוצה הצרפתית תחזיר תשובה סופית בימים הקרובים</strong></p>
        <p>הפועל ת"א מתקרבת למציאת נוסחה לרכישת תיאמוקו דיארה מריימס. זאת אחרי ששחקן הכנף, שבעונה שעברה הושאל להפועל חיפה והרשים, כבר סיכם את תנאיו במועדון, כפי שנחשף ב-ynet.</p>
        <p>בהפועל רואים בדיארה (22) כמטרה המרכזית של הקיץ, וביממה האחרונה היתה התקדמות משמעותית במו"מ בין שני המועדונים. מי שלחץ על דיארה הוא הבלם פרנאן מאיימבו, חברו הטוב ששיחק איתו בעונה שעברה בהפועל חיפה, וכבר חתם בהפועל ת"א.</p>
        <p>בימים הקרובים אמורה ריימס להשיב תשובה סופית להפועל, ונראה כי במידה ולא תהיה הצעה מפתה מבחינתם - וכרגע אין כזו על הפרק - היא תאשר את הצעת הפועל ת״א, שמוכנה לשלם עבורו 1.5 </p>
        <p>דיארה, יליד מאלי, תרם שישה שערים וארבעה בישולים ב-30 הופעות ליגה בעונה החולפת. בנוסף למאיימבו, הפועל ת"א כבר החתימה לקראת עונת החזרה לליגת העל את המגן השמאלי דורון ליינדנר, השוער אסף צור ואת שחקן ההתקפה אנאס מחמיד.</p>
        <button class="close-popup" onclick="closeArticlePopup()">סגור</button>
    </div>

    <!-- Morse Code Popup -->
    <div class="popup-overlay" id="popup-overlay" onclick="closeMorsePopup()"></div>
    <div class="morse-popup" id="morse-popup">
        <h3>הרמז השני - קוד מורס:</h3>
        <p style="font-size: 1.5rem; font-family: monospace; direction: ltr; text-align: center;">
            --- -- -.-. .--. .-. / --- -. . - .-. / --- . .- / .- .-. -... .---
        </p>
        <p>(מימין לשמאל)</p>
        <button class="close-popup" onclick="closeMorsePopup()">סגור</button>
    </div>

    <script>
        let currentLevel = 0;
        let emojiAnswers = [false, false, false, false, false];
        let emojiNumbers = [3, 4, 7, 8, 1];
        
        function startGame() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('level1').style.display = 'block';
            currentLevel = 1;
        }

        function showHint(hintId, hintText, seconds) {
            document.getElementById('hint-text').textContent = hintText;
            document.getElementById('hint-overlay').style.display = 'block';
            document.getElementById('hint-popup').style.display = 'block';
        }

        function closeHintPopup() {
            document.getElementById('hint-overlay').style.display = 'none';
            document.getElementById('hint-popup').style.display = 'none';
            freezeScreen(10);
        }

        function showArticle() {
            document.getElementById('article-overlay').style.display = 'block';
            document.getElementById('article-popup').style.display = 'block';
        }

        function closeArticlePopup() {
            document.getElementById('article-overlay').style.display = 'none';
            document.getElementById('article-popup').style.display = 'none';
        }

        function freezeScreen(seconds) {
            document.getElementById('timer-overlay').style.display = 'flex';
            let countdown = seconds;
            document.getElementById('timer-countdown').textContent = countdown;
            
            const timer = setInterval(() => {
                countdown--;
                document.getElementById('timer-countdown').textContent = countdown;
                if (countdown <= 0) {
                    clearInterval(timer);
                    document.getElementById('timer-overlay').style.display = 'none';
                }
            }, 1000);
        }

        function showMorseCode() {
            document.getElementById('popup-overlay').style.display = 'block';
            document.getElementById('morse-popup').style.display = 'block';
        }

        function closeMorsePopup() {
            document.getElementById('popup-overlay').style.display = 'none';
            document.getElementById('morse-popup').style.display = 'none';
        }

        function checkEmojiAnswer(num, answer) {
            const correctAnswers = [
                'אחד מי יודע',
                'בית שמש',
                'תירס חם',
                'בני ברק',
                'לא בוכים על חלב שנשפך'
            ];
            
            if (answer.trim() === correctAnswers[num - 1]) {
                emojiAnswers[num - 1] = true;
                document.getElementById(`emoji-result${num}`).innerHTML = 
                    `<p style="color: #4caf50;">נכון! המספר שלך: ${emojiNumbers[num - 1]}</p>`;
                return true;
            } else if (answer.trim() !== '') {
                document.getElementById(`emoji-result${num}`).innerHTML = 
                    `<p style="color: #f44336;">לא נכון, נסו שוב!</p>`;
            }
            return false;
        }

        // Check emoji answers in real time
        for (let i = 1; i <= 5; i++) {
            document.getElementById(`emoji${i}`).addEventListener('input', function() {
                checkEmojiAnswer(i, this.value);
            });
        }

        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.getElementById('final-screen').appendChild(confetti);
            }
        }

        function checkCode(level) {
            const codes = ['', '935', '655', '34817', '410', '50'];
            const input = document.getElementById(`code${level}`).value.trim();
            const messageDiv = document.getElementById(`message${level}`);
            
            if (input === codes[level]) {
                messageDiv.innerHTML = '<div class="success">נכון! עוברים לשלב הבא!</div>';
                setTimeout(() => {
                    document.getElementById(`level${level}`).style.display = 'none';
                    if (level < 5) {
                        document.getElementById(`level${level + 1}`).style.display = 'block';
                        currentLevel = level + 1;
                    } else {
                        document.getElementById('final-screen').style.display = 'flex';
                        createConfetti();
                    }
                }, 2000);
            } else {
                messageDiv.innerHTML = '<div class="error">קוד שגוי, נסו שוב!</div>';
            }
        }
    </script>
        

      

        
    </script>
</body>
</html>
